{% extends "base.html" %}

{% block title %}Resources - CogniStream AI{% endblock %}

{% block content %}
<div class="py-20 bg-slate-50 min-h-screen">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-20 animate-fade-in">
            <h1 class="text-5xl font-extrabold text-slate-900 mb-6 tracking-tight">The Knowledge <span
                    class="gradient-text">Vault</span></h1>
            <p class="text-xl text-slate-600 max-w-2xl mx-auto">Explore our curated list of world-class educational
                platforms and documentation hubs.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            {% for resource in resources %}
            <div
                class="bg-white rounded-[2rem] p-8 border border-slate-100 shadow-sm flex items-start space-x-6 hover:shadow-xl transition-all duration-300">
                <div
                    class="w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center text-indigo-600 shrink-0">
                    {% if resource.type == 'Platform' %}
                    <i class="fas fa-layer-group text-2xl"></i>
                    {% else %}
                    <i class="fas fa-file-lines text-2xl"></i>
                    {% endif %}
                </div>
                <div class="flex-grow">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-xs font-bold text-indigo-600 uppercase tracking-widest">{{ resource.type
                            }}</span>
                        <a href="{{ resource.url }}" target="_blank"
                            class="text-slate-400 hover:text-indigo-600 transition-colors"><i
                                class="fas fa-external-link-alt"></i></a>
                    </div>
                    <h2 class="text-2xl font-bold text-slate-900 mb-4">{{ resource.title }}</h2>
                    <p class="text-slate-500 mb-6 font-medium">Industry-leading documentation and interactive lessons
                        for modern developers and learners.</p>
                    <a href="{{ resource.url }}" target="_blank"
                        class="inline-flex items-center space-x-2 text-indigo-600 font-bold hover:space-x-4 transition-all">
                        <span>Visit Site</span>
                        <i class="fas fa-chevron-right text-xs"></i>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Community Section -->
        <div class="mt-24 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class="relative group">
                <div onclick="openCommunityVideo()"
                    class="aspect-video bg-indigo-600 rounded-[2.5rem] overflow-hidden shadow-2xl cursor-pointer relative">
                    <img src="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&q=80&w=800"
                        alt="People studying"
                        class="w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700">
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div
                            class="w-20 h-20 bg-white rounded-full flex items-center justify-center text-indigo-600 text-2xl animate-pulse group-hover:scale-110 transition-transform">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="space-y-8">
                <h2 class="text-4xl font-extrabold text-slate-900">Join the AI Learning <span
                        class="text-indigo-600">Community</span></h2>
                <p class="text-lg text-slate-600 leading-relaxed">
                    Don't learn alone. Connect with thousands of students, researchers, and hobbyists on our official
                    Discord and GitHub communities. Share roadmaps, ask questions, and collaborate on projects.
                </p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="{{ social_links.discord }}" target="_blank"
                        class="bg-[#5865F2] text-white px-8 py-4 rounded-2xl font-bold flex items-center justify-center space-x-3 hover:bg-slate-900 transition-colors shadow-lg shadow-indigo-200">
                        <i class="fab fa-discord"></i>
                        <span>Join Discord</span>
                    </a>
                    <a href="{{ social_links.github }}" target="_blank"
                        class="bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center justify-center space-x-3 hover:bg-indigo-600 transition-colors shadow-lg shadow-slate-200">
                        <i class="fab fa-github"></i>
                        <span>Fork on GitHub</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Community Video Modal -->
<div id="videoModal"
    class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm">
    <div class="bg-white rounded-[2rem] w-full max-w-5xl overflow-hidden shadow-2xl animate-fade-in-up">
        <div class="p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50">
            <h3 class="text-xl font-bold text-slate-900">Inside our AI Community</h3>
            <button onclick="closeVideo()" class="text-slate-400 hover:text-slate-600 transition text-2xl">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="aspect-video bg-black">
            <iframe id="videoIframe" class="w-full h-full" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
        </div>
        <div class="p-6 text-center bg-slate-50 text-slate-400 text-sm font-medium">
            Learn together, grow together.
        </div>
    </div>
</div>

<script>
    function openCommunityVideo() {
        const videoId = "{{ community_video.video_id }}";
        const modal = document.getElementById('videoModal');
        const iframe = document.getElementById('videoIframe');
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
        modal.classList.remove('hidden');
        modal.classList.add('flex');
    }

    function closeVideo() {
        const modal = document.getElementById('videoModal');
        const iframe = document.getElementById('videoIframe');
        iframe.src = '';
        modal.classList.add('hidden');
        modal.classList.remove('flex');
    }
</script>
{% endblock %}